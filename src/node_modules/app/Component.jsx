import React from 'react';
import pubsub from './pubsub';

export class Component extends React.Component {
    on(msg, fn) {
        pubsub.subscribe(msg, this, fn);
    }

    async emit(msg, ...args) {
        return pubsub.publish(msg, ...args);
    }

    componentWillUnmount() {
        pubsub.unsubscribe(this);
    }

    render() {
        return null;
    }

}
