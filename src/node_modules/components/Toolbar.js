import React from 'react';
import IconButton from 'material-ui/IconButton';

import app from 'app';
import MaterialIcon from './MaterialIcon';

export class Button extends React.Component {
    render() {
        let style = app.theme(
            'gwc.ui.toolbar.button'
            + (this.props.secondary ? 'Secondary' : 'Primary')
            + (this.props.active ? 'Active' : '')),
            icon = null;
        if (this.props.icon) {
            icon = <MaterialIcon color={style.color} icon={this.props.icon} />;
        } else {
            icon = React.Children.map(this.props.children, child => {
                return React.cloneElement(child, { color : style.color });
            });
        }

        return (
            <IconButton
                style={style}
                tooltip={this.props.tooltip}
                tooltipPosition='top-left'
                onClick={this.props.onClick}
            >
                {icon}
            </IconButton>
        );
    }
}

export class PopoverGroup extends React.Component {
    render() {
        return <div style={{flex: 1}}>{this.props.children}</div>;
    }
}

export class Popover extends React.Component {
    render() {
        let style = app.theme(
            'gwc.ui.toolbar.popover'
            + (this.props.visible ? 'Visible' : ''));

        return (
            <div style={style}>{this.props.children}</div>
        );
    }
}
